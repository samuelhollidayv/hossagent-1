Say less, Hoss â€” Iâ€™ll embed the Miami intelligence layer directly into the Master Prompt so the system boots with a fully-formed, geography-aware contextual engine.

What youâ€™ll get below is:
	â€¢	Everything from the original Signals Engine master plan,
PLUS
	â€¢	Miami-specific lead defaults
	â€¢	Miami-tuned outbound templates
	â€¢	Miami contextual inference logic
	â€¢	Miami SMB-specific opportunity categories
	â€¢	Miami signal heuristics
	â€¢	Miami competitor intelligence template
	â€¢	Bilingual-friendly outreach logic
	â€¢	Miami customer-facing portal language

It will produce a system that feels â€” structurally, linguistically, behaviorally â€” like it lives in Miami the way a great obituary-man lived in his paper.

Here it comes.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”¥ THE MIAMI-INFUSED MAGIC BOX MASTER PROMPT

(Signals Engine + Lead Events + Todayâ€™s Opportunities + Miami Intelligence Layer)

I am ready to upgrade HossAgent from generic lead gen into the contextual, moment-aware â€œEthical Briefcase System,â€ optimized specifically for the Miamiâ€“Broward metro area, with localized heuristics, language, templates, and contextual inference baked into the architecture. Implement all upgrades fully and safely, preserving existing features (BizDev, Ops, Billing, Auth, Portal, Admin console, Trial logic, etc.).

Follow the order carefully.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 1 â€” Database Layer: Add Signals + Lead Events

(Create new models and preserve existing migrations exactly like earlier prompt.)

[IDENTICAL TO ORIGINAL MASTER PROMPT â€” KEEP IT.]

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 2 â€” Signals Agent (with Miami Heuristics)

Create signals_agent.py with all behaviors described earlier, plus Miami-specific signal sources for synthetic v1.

Add Miami signal heuristics:

For each company in the DB, generate 0â€“3 synthetic signals chosen from:

A) Competitor Headlines (Miami SMB flavor)
E.g. med spa, HVAC, roofing, immigration law, real estate brokers, marketing agencies.

Examples:
	â€¢	â€œCompetitor updated service pricing for Botox / fillers / facials.â€
	â€¢	â€œCompetitor HVAC company added 24/7 emergency section.â€
	â€¢	â€œRoofing competitor changed hero banner to â€˜Hurricane season upgrades.â€™â€
	â€¢	â€œImmigration attorney added TPS/DACA update page.â€

B) Job Postings
Use Miami-specific roles:
	â€¢	â€œHiring bilingual office assistant (Miami / Coral Gables).â€
	â€¢	â€œRoofing contractor hiring estimator for Broward County.â€
	â€¢	â€œHVAC tech wanted â€” must speak Spanish.â€

C) Review Events
Use culturally relevant phrasing:
	â€¢	â€œNew Spanish-language review praising fast turnaround.â€
	â€¢	â€œNegative review citing scheduling delays (common Miami pain point).â€

D) Local Permitting / Weather Signals (Synthetic)
	â€¢	â€œHurricane preparedness advisory increased local roofing demand.â€
	â€¢	â€œNew building permit approved in Little Havana area.â€

Each signal produces:
	â€¢	context_summary via LLM
	â€¢	A derived LeadEvent with:
	â€¢	Miami-specific category labels:
	â€¢	â€œHURRICANE_SEASONâ€
	â€¢	â€œCOMPETITOR_SHIFTâ€
	â€¢	â€œGROWTH_SIGNALâ€
	â€¢	â€œMIAMI_PRICE_MOVEâ€
	â€¢	â€œBILINGUAL_OPPORTUNITYâ€
	â€¢	â€œREPUTATION_CHANGEâ€
	â€¢	urgency_score biased 50â€“80 for time-sensitive industries (roofing, HVAC, immigration)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 3 â€” BizDev Agent Upgrade: Miami Template Pack

Modify run_bizdev_agent() to generate outreach from LeadEvents, and incorporate Miami linguistic norms:

Add a new template pack: miami_local

Stored in something like: bizdev_templates.py

MIAMI OUTBOUND RULES:
	1.	Lead with the observed moment:
â€œSaw you just posted a bilingual office assistant role in Coral Gablesâ€¦â€
	2.	Tie to Miami context:
â€œHere in South Florida, that usually signals growth or a shift in your intake volumeâ€¦â€
	3.	Offer clarity:
â€œI can send a competitor snapshot (local pricing, positioning, ad strategies) by this afternoon.â€
	4.	Keep tone casual, confident, respectful:
â€œLet me know â€” happy to send it over.â€
	5.	Add optional Spanish-friendly bump:
â€œSi prefieres que te lo mande en espaÃ±ol, me avisas.â€

SUBJECT LINES (rotate):
	â€¢	â€œQuick one about your Miami competitorsâ€
	â€¢	â€œSaw your recent update in Browardâ€
	â€¢	â€œSmall heads-up on the South Florida marketâ€
	â€¢	â€œFast snapshot for {{company_name}}â€

BODY TEMPLATE:

Noticed {{signal_summary}} â€” usually in Miami that means {{inferred_implication}}.

I run an autonomous research engine that gives quick competitive snapshots for businesses here in South Florida. If you'd like, I can send one today covering:
- competitor pricing signals
- Google/Meta ad positioning
- local demand trends
- opportunities specific to your neighborhood

If you'd prefer Spanish, let me know â€” happy to send it that way too.

Want me to send it?

Preserve DRY_RUN behavior for now.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 4 â€” Ops Agent (Miami Competitive Snapshot)

Modify Ops agent deliverables to return Miami-flavored intel:

Include:
	1.	Competitor list within a 10-mile radius
	2.	Pricing heuristics (synthetic but plausible)
	3.	Instagram content strategies (Miami-heavy visual culture)
	4.	Weather-season effects (HVAC + roofing)
	5.	Spanish-language market segment effects
	6.	Local review sentiment
	7.	Quick actionable recommendations:

	â€¢	â€œOffer a hurricane-season discount bundle.â€
	â€¢	â€œHighlight bilingual staff on homepage â€” big ROI in Miami.â€
	â€¢	â€œYour closest competitor leans heavily into IG Reels; easy win here.â€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 5 â€” Customer Portal: Add â€œTodayâ€™s Opportunitiesâ€ (Miami Tuned)

Add a panel that reads:

Todayâ€™s Miami Opportunities
Automatically identified from public signals around your business and competitors.

Show:
	â€¢	summary
	â€¢	category
	â€¢	urgency (ğŸ”¥ icon for 70+)
	â€¢	timestamp
	â€¢	what the system recommends next
	â€¢	outbound status (â€œQueuedâ€, â€œContactedâ€, â€œReadyâ€)

Make this the FIRST thing a customer sees.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 6 â€” Admin Console Upgrades

As in original prompt:
	â€¢	Add Signals table
	â€¢	Add LeadEvents table
	â€¢	Add â€œRun Signals Agentâ€ button
	â€¢	Add Miami-specific status tags (color-coded)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 7 â€” Miami Defaults (Environment Variables)

Modify app config to auto-load these if missing:

LEAD_GEOGRAPHY = "Miami, Miami-Dade County, Fort Lauderdale, Broward County, South Florida"
LEAD_NICHE = "med spa, hvac, roofing, immigration attorney, realtor, insurance broker, marketing agency"
BIZDEV_NICHE_TEMPLATE = "miami_local"
MAX_NEW_LEADS_PER_CYCLE = 20
EMAIL_MODE = "DRY_RUN"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SECTION 8 â€” Safe Integration + Summary Output

Before finishing:
	â€¢	Confirm DB migrations succeed
	â€¢	Confirm BizDev uses LeadEvents
	â€¢	Confirm Signals agent generates Miami-flavored data
	â€¢	Confirm portal shows Miami Opportunities section
	â€¢	Confirm DRY_RUN email previews reflect Miami context
	â€¢	Confirm no existing flows break (signup, login, admin, billing, tasks, ops)

Output a summary of modified + created files.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

END OF MIAMI-INFUSED MASTER PROMPT

When you run this in Replit Assistant, the system will evolve from:

SaaS with automations â†’ a Miami-native contextual intelligence machine.

When youâ€™re ready to expand beyond Miami, we tweak the template pack and the signal heuristics â€” architecture stays the same.

If you want, I can also generate:
	â€¢	The non-Miami nationwide template pack
	â€¢	The international expansion heuristic
	â€¢	The Signal Providers Roadmap (permit APIs, job boards, news scrapers, review feeds, zoning data, etc.)

Just say the word, Hoss.